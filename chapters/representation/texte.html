---
title: Représentation du texte
order: 3
---

<p>
    Dans les sections précédentes, nous avons vu comment représenter des nombres
    entiers sous forme de codes binaires.
    Dans cette section, nous allons regarder différentes manières de représenter
    du texte à l'aide de code binaires.
    Nous commencerons par regarder le code ASCII, puis nous verrons comment
    représenter des caractères accentués à l'aide du code ISO-8859-1.
    Finalement, nous parlerons de l'Unicode et de l'UTF-8 afin de voir comment
    représenter des caractères de toutes les langues et tous les alphabet du monde.
</p>

<h2>Code ASCII</h2>

<p>
    Le code ASCII est un code binaire qui permet de représenter les caractères
    de l'alphabet latin, les chiffres arabes, ainsi que quelques caractères
    spéciaux.
    Le code ASCII est un code binaire de longueur 7,
    ce qui permet de représenter 128 caractères différents.
    Ci-dessous est présenté un extrait du code ASCII.
</p>

<style>
.encoding-table {
    border-collapse: collapse;
    overflow-x: auto;
    max-width: 100%;
    display: block;
    margin: auto;
}

.encoding-table th,
.encoding-table td {
    padding: 5px 10px;
    text-align: center;
}

.encoding-table td:nth-child(2n+3),
.encoding-table th:nth-child(2n+3) {
    border-left: 1px solid black;
}

.encoding-table .encoding-char {
    font-weight: bold;
}

.encoding-table .encoding-word {
    font-family: monospace;
}

.grayed-out {
    color: gray;
}
</style>

<table id="ascii-table" class="encoding-table">
    <tr>
        <th>Caractère</th>
        <th>Mot</th>
        <th>Caractère</th>
        <th>Mot</th>
        <th>Caractère</th>
        <th>Mot</th>
        <th>Caractère</th>
        <th>Mot</th>
    </tr>
</table>

<script type="text/javascript">
(function() {
    function word(number) {
        let word = number.toString(2);
        while (word.length < 7) {
            word = "0" + word;
        }
        return word;
    }

    const asciiTable = document.getElementById("ascii-table");
    for (let i = 0; i < 32; i++) {
        const row = document.createElement("tr");
        for (let j = 0; j < 4; j++) {
            const cell1 = document.createElement("td");
            const cell2 = document.createElement("td");

            cell1.classList.add("encoding-char");
            cell2.classList.add("encoding-word");

            const n = i + j * 32;
            let char = String.fromCharCode(n);
            if (n < 32) {
                char = "¶";
                cell1.classList.add("grayed-out");
            }
            else if (n == 32) {
                char = "␣";
                cell1.classList.add("grayed-out");
            }
            else if (n > 126) {
                char = "¶";
                cell1.classList.add("grayed-out");
            }
            cell1.textContent = char;
            cell2.textContent = word(n);
        
            row.appendChild(cell1);
            row.appendChild(cell2);
        }
        asciiTable.appendChild(row);
    }
})();
</script>

<p>
    Dans la table ci-dessus, les entrées dénotée d'un caractère <span class="grayed-out">¶</span> grisé représentent
    des caractères de contrôle qui ne sont pas affichables.
    La fonction de ces caractères est assez anecdotique et
    dépasse le cadre de ce cours.
    L'entrée dénotée d'un caractère <span class="grayed-out">␣</span> représente un espace.
</p>

$remark$
<p>
    ASCII est un acronyme pour <i lang="en">American Standard Code for Information Interchange</i>,
    ce qui signifie en français &laquo; Code standard américain pour l'échange d'information &raquo;.
    Ce code a été créé dans les années 1960 et est toujours utilisé de nos jours.
</p>
$endremark$

<p>
    Le code ASCII est un code binaire de longueur 7,
    ce qui permet de représenter 128 caractères différents.
    Parmis ces 128 caractères, 
    on retrouve tous les caractères utilisés en anglais,
    les chiffres arabes, ainsi que quelques caractères spéciaux.
    Cependant, il existe des caractères qui ne sont pas représentés dans le code ASCII
    et qui sont utilisés dans d'autres langues.
    Par exemple, le caractère &laquo; é &raquo; n'est pas représenté dans le code ASCII,
    alors qu'il est utilisé en français.
    Le caractère &laquo; € &raquo; n'est pas non plus représenté dans le code ASCII,
    ni le caractère &laquo; 魅 &raquo;.
    Pour représenter ces caractères, il faudra donc utiliser d'autres codes,
    comme nous le verrons dans la suite de cette page.
</p>

<p>
    Bien que le code ASCII soit un code de longueur 7,
    on l'utilise généralement avec des mots de longueur 8.
    En effet, les mots de longueur 8 sont plus faciles à manipuler
    sur un ordinateur que les mots de longueur 7.
    C'est pourquoi les fichiers texte qui sont encodés en ASCII
    utilisent un octet par caractère.
</p>

<p>
    Le code ASCII étant un code de longueur fixe,
    et donc par conséquent un code préfixe,
    il est possible de représenter un texte encodé en ASCII
    simplement en concaténant les mots de code de chaque caractère
    du texte à encoder sans avoir à ajouter de séparateur.
    C'est ce qui est fait en pratique.
</p>

$tryout$
<p>
    Téléchargez le fichier <a href="/docs/ascii.txt" download="ascii">ascii.txt</a>
    puis ouvrez-le avec un éditeur de texte.
    Vous devriez voir le contenu du fichier,
    c'est-à-dire <i lang="en">"The quick brown fox jumps over the lazy dog."</i>.
</p>

<p>
    Ouvrez ensuite le même fichier à l'aide d'un éditeur hexadécimal
    tel que <a href="https://hexed.it/">HexEd.it</a>.
    Vous devriez voir le contenu du fichier, mais cette fois-ci
    sous forme de nombres hexadécimaux.
    Chaque octet du fichier est représenté par deux symboles hexadécimaux
    et correspond à un caractère du fichier.
</p>
$endtryout$

<h2>Code ISO-8859-1 (Latin-1)</h2>

<p>
    Pour pallier au problème de l'ASCII qui ne permet pas de représenter
    de nombreux caractères utilisés dans différentes langues,
    différents codes ont vus le jour dans différentes régions du monde.
    Dans les années 1980, en Europe occidentale, le code ISO-8859-1
    a été adopté comme standard pour représenter la majorité des caractères
    utilisés dans les langues occidentales.
    Ce code est aussi appelé <i>Latin-1</i>.
</p>

<p>
    Le code ISO-8859-1 est un code binaire de longueur 8 qui se base sur le code ASCII.
    Chaque caractère du code ASCII est représenté de la même manière dans le code ISO-8859-1,
    à l'exception près qu'il est précédé d'un zéro (pour passer de 7 à 8 bits).
    Cela a pour avantage de garder une compatibilité avec le code ASCII.
</p>

<p>
    Ci-dessous se trouve une table qui montre les 128 derniers caractères du code ISO-8859-1,
    les 128 premiers étant repris du code ASCII.
</p>

<table id="latin1-table" class="encoding-table">
    <tr>
        <th>Caractère</th>
        <th>Mot</th>
        <th>Caractère</th>
        <th>Mot</th>
        <th>Caractère</th>
        <th>Mot</th>
        <th>Caractère</th>
        <th>Mot</th>
    </tr>
</table>

<script type="text/javascript">
(function() {
    function word(number) {
        let word = number.toString(2);
        while (word.length < 8) {
            word = "0" + word;
        }
        return word;
    }

    const latin1Chars = " ¡¢£¤¥¦§¨©ª«¬\u00AD®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ";

    const latin1Table = document.getElementById("latin1-table");
    for (let i = 128; i < 160; i++) {
        const row = document.createElement("tr");
        for (let j = 0; j < 4; j++) {
            const cell1 = document.createElement("td");
            const cell2 = document.createElement("td");

            cell1.classList.add("encoding-char");
            cell2.classList.add("encoding-word");

            const n = i + j * 32;

            let char = "";
            if (n < 160) {
                char = "¶";
                cell1.classList.add("grayed-out");
            }
            else if (n === 160) {
                char = "⍽";
                cell1.classList.add("grayed-out");
            }
            else if (n === 173) {
                char = "-";
                cell1.classList.add("grayed-out");
            }
            else {
                char = latin1Chars[n - 160];
            }
            cell1.textContent = char;
            cell2.textContent = word(n);
        
            row.appendChild(cell1);
            row.appendChild(cell2);
        }
        latin1Table.appendChild(row);
    }
})();
</script>

<p>
    Dans la table ci-dessus, les entrées dénotée d'un caractère <span class="grayed-out">¶</span> grisé représentent
    des caractères de contrôle.
</p>

$remark$
<p>
    L'entrée dénotée d'un caractère <span class="grayed-out">⍽</span> (mot de code <code>10100000</code>) représentent
    l'<a href="https://fr.wikipedia.org/wiki/Espace_ins%C3%A9cable">espace <i>inséquable</i></a>,
    tandis que l'entrée dénotée d'un <span class="grayed-out">-</span> (mot de code <code>10101101</code>) représente le
    <a href="https://fr.wikipedia.org/wiki/Trait_d%27union_conditionnel">trait d'union conditionnel</a>.
</p>
$endremark$

<p>
    Le code ISO-8859-1 a quelques défauts, notamment le fait qu'il ne permet pas de représenter
    les caractères utilisés dans de nombreuses langues, comme le russe, le chinois, l'arabe, etc.
    La solution initiale a été de concevoir des codes spécifiques à chaque langue,
    mais cela a rapidement posé des problèmes de compatibilité.
    Cette méthode rend en effet impossible l'affichage de plusieurs langues
    dans un même document, étant limité à un seul code.
    Cette limitation est devenue de plus en plus problématique avec l'essor
    d'Internet et du Web.
</p>

<p>
    De plus, il est impossible de savoir quel code est utilisé dans un document
    sans avoir recours à des indications explicites.
    En effet, une fois encodé, un document ne contient plus que des octets,
    et il est en principe impossible de savoir quel code a été utilisé pour l'encodage.
    Cela a pour conséquence de mener à des problèmes de décodage.
    Certains logiciels peuvent essayer de déterminer le code utilisé
    en analysant les caractères présents dans le document,
    mais cela n'est pas garanti de fonctionner.
</p>

$remark$
<p>
    Lorsqu'on décode un document en utilisant un code qui
    n'est pas le bon, on obtient un résultat qui, dans le meilleur des cas
    contient quelques caractères inconnus, et dans le pire des cas
    est complètement illisible.
    À cause de la prolifération de différents codes sur le Web,
    il était courant de rencontrer des pages qui ne s'affichaient pas correctement
    à cause d'un mauvais décodage.
    On appelle ce phénomène le <a href="https://fr.wikipedia.org/wiki/Mojibake">mojibake</a>,
    un nom emprunté au japonais qui signifie littéralement &laquo; changements de caractères &raquo;.
</p>
$endremark$

<p>
    Le code ISO-8859-1, bien qu'initialement très utilisé en Europe,
    a depuis été largement remplacé par Unicode et le code UTF-8
    que l'on va aborder immédiatement.
</p>

<h2>Unicode</h2>

<p>
    Unicode est un standard qui définit un nom et un indice (un nombre entier)
    pour chaque caractère utilisé dans les différentes langues du monde,
    et même pour certains symboles comme les émoticônes.
    Comme de nouveaux caractères sont régulièrement ajoutés,
    Unicode est un standard en constante évolution.
    À l'heure de l'écriture de ces notes de cours,
    Unicode contient 149'186 caractères.
</p>

$example$
<p>
    Dans le tableau ci-dessous, on trouve
    une sélection de caractères et leur indice en Unicode.
</p>

<style>
#unicode-table {
    border-collapse: collapse;
    display: block;
    overflow-x: auto;
    width: fit-content;
    max-width: 100%;
    margin: auto;
}

#unicode-table th, #unicode-table td {
    padding: 0.5em;
    text-align: center;
}

#unicode-table td:nth-child(2n+3),
#unicode-table th:nth-child(2n+3) {
    border-left: 1px solid black;
}
</style>

<table id="unicode-table">
    <tr>
        <th>Caractère</th>
        <th>Indice</th>
        <th>Caractère</th>
        <th>Indice</th>
        <th>Caractère</th>
        <th>Indice</th>
        <th>Caractère</th>
        <th>Indice</th>
    </tr>
</table>

<script type="text/javascript">
(function() {
    const unicodeTable = document.getElementById("unicode-table");
    const indexes = [120, 121, 122, 8472, 9064, 10857, 15998, 15999, 16000, 128512, 128513, 128514];
    const k = indexes.length / 4;
    for (let i = 0; i < k; i += 1) {
        const row = document.createElement("tr");
        for (let j = 0; j < 4; j += 1) {
            const cell1 = document.createElement("td");
            const cell2 = document.createElement("td");
            const n = indexes[i + k * j];
            cell1.textContent = String.fromCodePoint(n);
            cell2.textContent = n;
            row.appendChild(cell1);
            row.appendChild(cell2);
        }
        unicodeTable.appendChild(row);
    }
})();
</script>

$endexample$

<p>
    Unicode n'est pas à proprement parler un code de caractères.
    En effet, il ne définit pas comment représenter les caractères,
    Unicode se contente de leur donner un indice (un numéro).
    Pour pouvoir avoir un véritable code, 
    il faudra transformer cet indice, qui est un nombre entier,
    en une suite de bits (un mot de code).
    Le code UTF-8, que nous allons maintenant aborder, est un exemple de code pour les caractères
    définis en Unicode.
</p>

<h2>UTF-8</h2>

<p>
    Le code UTF-8 est un code
    qui permet de représenter les caractères définis en Unicode.
    Contrairement à ISO-8859-1 et à ASCII, UTF-8 est un code à longueur variable.
    Certains caractères sont représentés par un seul octet,
    d'autres par deux, trois ou quatre octets.
</p>

<p>
    UTF-8 est un code qui est très largement utilisé sur le Web,
    La grande majorité des pages Web étant encodées en UTF-8
    (comme celle que vous êtes entrain de lire).
    Aujourd'hui, UTF-8 est devenu le standard de facto pour représenter le texte sur le Web.
</p>
